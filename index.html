<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flash Delivery - ပစ္စည်းပို့ယူစနစ်</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>

    <style>
        * {
            box-sizing: border-box;
            font-family: Arial, sans-serif;
        }
        
        body {
            margin: 0;
            padding: 0;
            background-color: #f8f9fa;
        }
        
        .container {
            max-width: 480px;
            margin: 0 auto;
            background-color: white;
            min-height: 100vh;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        .header {
            background-color: #f8304a;
            color: white;
            padding: 15px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .content {
            padding: 20px;
            margin-bottom: 70px;
        }
        
        .footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            max-width: 480px;
            margin: 0 auto;
            background-color: white;
            border-top: 1px solid #e1e1e1;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
        }
        
        .footer-btn {
            text-align: center;
            width: 25%;
            font-size: 12px;
            color: #777;
        }
        
        .footer-btn.active {
            color: #f8304a;
        }
        
        .footer-btn i {
            font-size: 20px;
            margin-bottom: 3px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #333;
        }
        
        .form-control {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            background-color: #f8304a;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
        }
        
        .btn:disabled {
            background-color: #cccccc;
        }
        
        .hidden {
            display: none;
        }
        
        .pin-container {
            display: flex;
            justify-content: space-between;
            margin: 30px 0;
        }
        
        .pin-digit {
            width: 50px;
            height: 50px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 20px;
            text-align: center;
            line-height: 50px;
        }
        
        .pin-digit.active {
            border-color: #f8304a;
        }
        
        #map {
            height: 300px;
            width: 100%;
            margin-bottom: 20px;
            border-radius: 10px;
        }
        
        .card {
            background-color: white;
            border-radius:, 10px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .card-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        
        #qr-video {
            width: 100%;
            height: 300px;
            background-color: #000;
            border-radius: 10px;
            margin-bottom: 15px;
        }
        
        #qr-canvas {
            display: none;
        }
        
        .parcel-item {
            border: 1px solid #ddd;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
        }
        
        .parcel-id {
            font-weight: bold;
            color: #f8304a;
        }
        
        .parcel-address {
            color: #777;
            font-size: 14px;
            margin-top: 5px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Login Page -->
        <div id="login-page">
            <div class="header">
                <h2>Flash Delivery</h2>
                <p>ပစ္စည်းပို့ယူစနစ်</p>
            </div>
            <div class="content">
                <h3>ဝန်ထမ်း အကောင့်ဝင်ရန်</h3>
                <div class="form-group">
                    <label for="username">အသုံးပြုသူအမည်</label>
                    <input type="text" id="username" class="form-control" placeholder="အသုံးပြုသူအမည်">
                </div>
                
                <div class="pin-container">
                    <div class="pin-digit" id="pin-1"></div>
                    <div class="pin-digit" id="pin-2"></div>
                    <div class="pin-digit" id="pin-3"></div>
                    <div class="pin-digit" id="pin-4"></div>
                </div>
                
                <div class="pin-pad">
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px;">
                        <button class="btn pin-button" data-value="1">1</button>
                        <button class="btn pin-button" data-value="2">2</button>
                        <button class="btn pin-button" data-value="3">3</button>
                        <button class="btn pin-button" data-value="4">4</button>
                        <button class="btn pin-button" data-value="5">5</button>
                        <button class="btn pin-button" data-value="6">6</button>
                        <button class="btn pin-button" data-value="7">7</button>
                        <button class="btn pin-button" data-value="8">8</button>
                        <button class="btn pin-button" data-value="9">9</button>
                        <button class="btn" id="clear-pin">Clear</button>
                        <button class="btn pin-button" data-value="0">0</button>
                        <button class="btn" id="login-btn">Login</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Main Page (after login) -->
        <div id="main-page" class="hidden">
            <div class="header">
                <h2>Flash Delivery</h2>
                <p>ပစ္စည်းပို့ယူစနစ်</p>
            </div>
            <div class="content">
                <div id="home-tab">
                    <div class="card">
                        <div class="card-title">ယနေ့ပစ္စည်းပို့ရန်စာရင်း</div>
                        <div id="today-parcels">
                            ပစ္စည်းများ ရယူနေသည်...
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-title">အနီးဆုံးလိပ်စာများ</div>
                        <div id="map"></div>
                        <button class="btn" id="refresh-location">တည်နေရာ ပြန်ရှာရန်</button>
                    </div>
                </div>

                <div id="scan-tab" class="hidden">
                    <div class="card">
                        <div class="card-title">QR ကုဒ်ဖတ်ရန်</div>
                        <video id="qr-video" autoplay></video>
                        <canvas id="qr-canvas" hidden></canvas>
                        <button class="btn" id="start-scan">ဖတ်ရန်</button>
                        <div id="qr-result"></div>
                    </div>
                </div>
                
                <div id="parcel-tab" class="hidden">
                    <div class="card">
                        <div class="card-title">ပစ္စည်းအသစ်စာရင်းသွင်းရန်</div>
                        <div class="form-group">
                            <label for="parcel-id">ပစ္စည်းအမှတ်</label>
                            <input type="text" id="parcel-id" class="form-control" placeholder="ပစ္စည်းအမှတ်">
                        </div>
                        <div class="form-group">
                            <label for="recipient-name">လက်ခံသူအမည်</label>
                            <input type="text" id="recipient-name" class="form-control" placeholder="လက်ခံသူအမည်">
                        </div>
                        <div class="form-group">
                            <label for="recipient-phone">ဖုန်းနံပါတ်</label>
                            <input type="tel" id="recipient-phone" class="form-control" placeholder="ဖုန်းနံပါတ်">
                        </div>
                        <div class="form-group">
                            <label for="recipient-address">လိပ်စာ</label>
                            <textarea id="recipient-address" class="form-control" rows="3" placeholder="လိပ်စာအပြည့်အစုံ"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="parcel-note">မှတ်ချက်</label>
                            <textarea id="parcel-note" class="form-control" rows="2" placeholder="အခြားမှတ်ချက်"></textarea>
                        </div>
                        <button class="btn" id="save-parcel">သိမ်းဆည်းရန်</button>
                        <div id="qr-display" style="text-align: center; margin-top: 20px;"></div>
                    </div>
                </div>
                
                <div id="profile-tab" class="hidden">
                    <div class="card">
                        <div class="card-title">ကျွန်ုပ်၏အကောင့်</div>
                        <div class="form-group">
                            <label>အမည်</label>
                            <p id="profile-name"></p>
                        </div>
                        <div class="form-group">
                            <label>အလုပ်သမားအမှတ်</label>
                            <p id="profile-id"></p>
                        </div>
                        <div class="form-group">
                            <label>ဒီနေ့ပို့ပြီးသောပစ္စည်း</label>
                            <p id="delivered-count">0</p>
                        </div>
                        <button class="btn" id="logout-btn" style="background-color: #f84c4c;">ထွက်ရန်</button>
                    </div>
                </div>
            </div>
            
            <div class="footer">
                <div class="footer-btn active" data-tab="home-tab">
                    <i class="fas fa-home"></i>
                    <div>ပင်မစာမျက်နှာ</div>
                </div>
                <div class="footer-btn" data-tab="scan-tab">
                    <i class="fas fa-qrcode"></i>
                    <div>QR ဖတ်ရန်</div>
                </div>
                <div class="footer-btn" data-tab="parcel-tab">
                    <i class="fas fa-box"></i>
                    <div>ပစ္စည်းသစ်</div>
                </div>
                <div class="footer-btn" data-tab="profile-tab">
                    <i class="fas fa-user"></i>
                    <div>ပရိုဖိုင်</div>
                </div>
            </div>
        </div>
        
        <!-- Delivery Confirmation Modal -->
        <div id="delivery-modal" class="hidden" style="position: fixed; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(0,0,0,0.7); display: flex; justify-content: center; align-items: center; z-index: 2000;">
            <div style="background-color: white; width: 90%; max-width: 400px; border-radius: 10px; padding: 20px;">
                <h3>ပစ္စည်းပို့ဆောင်မှုအတည်ပြုရန်</h3>
                <div id="delivery-details"></div>
                <div class="form-group">
                    <label for="recipient-signature">လက်ခံသူလက်မှတ်</label>
                    <canvas id="signature-pad" width="350" height="150" style="border: 1px solid #ddd; border-radius: 5px;"></canvas>
                </div>
                <div style="display: flex; justify-content: space-between; margin-top: 15px;">
                    <button class="btn" id="clear-signature" style="width: 45%; background-color: #ccc; color: #333;">ရေးမှုဖျက်ရန်</button>
                    <button class="btn" id="confirm-delivery" style="width: 45%;">အတည်ပြုရန်</button>
                </div>
                <button id="close-modal" style="background: none; border: none; font-size: 20px; position: absolute; top: 10px; right: 10px;">&times;</button>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    
    <script>
        // Firebase အသုံးပြု setup
        const firebaseConfig = {
            apiKey: "AIzaSyB49vRPX8YaWuTP5GS3lsBDqdAaz_hJYAw",
            authDomain: "onlineshop-849c8.firebaseapp.com",
            databaseURL: "https://onlineshop-849c8.firebaseio.com",
            projectId: "onlineshop-849c8",
            storageBucket: "onlineshop-849c8.appspot.com",
            messagingSenderId: "883512833370",
            appId: "1:883512833370:web:a1c8412b158f8744afef63"
        };
        
        // Firebase စတင်အသုံးပြုခြင်း
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();
        
        // Global variables
        let currentUser = null;
        let pinCode = '';
        let parcels = [];
        let currentPosition = null;
        let map = null;
        let markers = [];
        let signaturePad = null;
        
        document.addEventListener('DOMContentLoaded', function() {
            // PIN ကုဒ် အသုံးပြုခြင်း
            const pinDigits = document.querySelectorAll('.pin-digit');
            const pinButtons = document.querySelectorAll('.pin-button');
            
            pinButtons.forEach(button => {
                button.addEventListener('click', function() {
                    if (pinCode.length < 4) {
                        const value = this.getAttribute('data-value');
                        pinCode += value;
                        updatePinDisplay();
                    }
                });
            });
            
            document.getElementById('clear-pin').addEventListener('click', function() {
                pinCode = '';
                updatePinDisplay();
            });
            
            document.getElementById('login-btn').addEventListener('click', login);
            
            // Tab navigation
            const footerBtns = document.querySelectorAll('.footer-btn');
            footerBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Hide all tabs
                    document.querySelectorAll('#home-tab, #scan-tab, #parcel-tab, #profile-tab').forEach(tab => {
                        tab.classList.add('hidden');
                    });
                    
                    // Show selected tab
                    document.getElementById(tabId).classList.remove('hidden');
                    
                    // Update active button
                    document.querySelectorAll('.footer-btn').forEach(b => {
                        b.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // Special handling for tabs
                    if (tabId === 'home-tab') {
                        initMap();
                    } else if (tabId === 'scan-tab') {
                        // Initialize QR scanner when tab is selected
                    }
                });
            });
            
            // QR code scanner
            document.getElementById('start-scan').addEventListener('click', startQRScanner);
            
            // Save parcel
            document.getElementById('save-parcel').addEventListener('click', saveParcel);
            
            // Refresh location
            document.getElementById('refresh-location').addEventListener('click', getUserLocation);
            
            // Logout
            document.getElementById('logout-btn').addEventListener('click', logout);
            
            // Delivery confirmation
            document.getElementById('clear-signature').addEventListener('click', function() {
                if (signaturePad) {
                    signaturePad.clear();
                }
            });
            
            document.getElementById('confirm-delivery').addEventListener('click', confirmDelivery);
            document.getElementById('close-modal').addEventListener('click', function() {
                document.getElementById('delivery-modal').classList.add('hidden');
            });
            
            // Check if user is already logged in (simulated)
            checkLoginStatus();
        });

        function updatePinDisplay() {
            const pinDigits = document.querySelectorAll('.pin-digit');
            
            for (let i = 0; i < 4; i++) {
                if (i < pinCode.length) {
                    pinDigits[i].textContent = '•';
                    pinDigits[i].classList.add('active');
                } else {
                    pinDigits[i].textContent = '';
                    pinDigits[i].classList.remove('active');
                }
            }
        }
        
        function login() {
            const username = document.getElementById('username').value;
            
            if (!username) {
                alert('အသုံးပြုသူအမည် ထည့်သွင်းပါ');
                return;
            }
            
            if (pinCode.length !== 4) {
                alert('PIN ကုဒ် ၄ လုံး ထည့်သွင်းပါ');
                return;
            }
            
            // Firebase အသုံးပြု၍ login လုပ်ဆောင်ခြင်း (လက်ရှိတွင် simulated)
            // Firebase Authentication ကို အသုံးပြုပြီး အကောင့်ဝင်ရန် code ထပ်ထည့်နိုင်ပါသည်
            
            // အကောင့်ဝင်ရောက်သည်ဟု သတ်မှတ်ခြင်း
            currentUser = {
                id: '12345',
                username: username,
                name: username
            };
            
            document.getElementById('login-page').classList.add('hidden');
            document.getElementById('main-page').classList.remove('hidden');
            
            // User profile update
            document.getElementById('profile-name').textContent = username;
            document.getElementById('profile-id').textContent = currentUser.id;
            
            // Load parcels for this user
            loadParcels();
            
            // Initialize map
            initMap();
        }
        
        function checkLoginStatus() {
            // တကယ်တမ်း အသုံးပြုရန် Firebase authentication ဖြင့် login ဝင်ထားသလား စစ်ဆေးရပါမည်
            // လက်ရှိတွင် simulate ပြုလုပ်ထားပါသည်
        }
        
        function logout() {
            currentUser = null;
            document.getElementById('login-page').classList.remove('hidden');
            document.getElementById('main-page').classList.add('hidden');
            
            // Reset PIN
            pinCode = '';
            updatePinDisplay();
            document.getElementById('username').value = '';
        }
        
        function loadParcels() {
            // Firebase မှ ပစ္စည်းစာရင်းများ လုပ်ဆောင်ခြင်း
            // Simulated parcels for demons
                function confirmDelivery() {
            if (signaturePad.isEmpty()) {
                alert('လက်ခံသူလက်မှတ် ထိုးပေးပါ');
                return;
            }
            
            // Update parcel status
            const deliveredCount = parseInt(document.getElementById('delivered-count').textContent) + 1;
            document.getElementById('delivered-count').textContent = deliveredCount;
            
            document.getElementById('delivery-modal').classList.add('hidden');
            alert('ပစ္စည်းပို့ဆောင်မှု အောင်မြင်ပါသည်');
                                
                    markers.push(marker);
                }
            });
        }
        
        function startQRScanner() {
            const video = document.getElementById('qr-video');
            const canvas = document.getElementById('qr-canvas');
            const context = canvas.getContext('2d');
                        // QR Code scanner အတွက် code များ
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                navigator.mediaDevices.getUserMedia({ video: { facingMode: 'environment' } })
                    .then(function(stream) {
                        video.srcObject = stream;
                        video.play();
                        requestAnimationFrame(scanQRCode);
                    })
                    .catch(function(error) {
                        console.error('Camera error:', error);
                        document.getElementById('qr-result').innerHTML = 'ကင်မရာဖွင့်၍မရပါ: ' + error.message;
                    });
            } else {
                document.getElementById('qr-result').innerHTML = 'သင့် browser သည် ကင်မရာသုံးခွင့်မရှိပါ';
            }
            
            function scanQRCode() {
                if (video.readyState === video.HAVE_ENOUGH_DATA) {
                    canvas.height = video.videoHeight;
                    canvas.width = video.videoWidth;
                    context.drawImage(video, 0, 0, canvas.width, canvas.height);
                    
                    const imageData = context.getImageData(0, 0, canvas.width, canvas.height);
                    const code = jsQR(imageData.data, imageData.width, imageData.height, {
                        inversionAttempts: 'dontInvert',
                    });
                    
                    if (code) {
                        // QR code ဖတ်ရန် အောင်မြင်လျှင်
                        document.getElementById('qr-result').innerHTML = `
                            <div class="card" style="background-color:#e9ffe9; margin-top:15px;">
                                <h3>QR ကုဒ်ဖတ်နိုင်ပါပြီ</h3>
                                <p>${code.data}</p>
                                <button class="btn" id="process-qr">ဆက်လက်ဆောင်ရွက်ရန်</button>
                            </div>
                        `;
                        
                        // Find parcel by QR code
                        const parcelData = findParcelByQR(code.data);
                        
                        document.getElementById('process-qr').addEventListener('click', function() {
                            if (parcelData) {
                                openDeliveryModal(parcelData);
                            } else {
                                alert('ပစ္စည်းကို ရှာမတွေ့ပါ');
                            }
                        });
                        
                        // Stop the video stream
                        if (video.srcObject) {
                            video.srcObject.getTracks().forEach(track => track.stop());
                        }
                        
                        return;
                    }
                }
                
                // Keep scanning
                requestAnimationFrame(scanQRCode);
            }
        }
        
        function findParcelByQR(qrData) {
            // QR code data ကို အသုံးပြု၍ ပစ္စည်းရှာဖွေခြင်း
            // Format: PARCEL-{ID}
            if (qrData.startsWith('PARCEL-')) {
                const parcelId = qrData.substring(7);
                return parcels.find(p => p.id === parcelId);
            }
            return null;
        }
        
        function saveParcel() {
            const parcelId = document.getElementById('parcel-id').value;
            const recipientName = document.getElementById('recipient-name').value;
            const recipientPhone = document.getElementById('recipient-phone').value;
            const address = document.getElementById('recipient-address').value;
            const note = document.getElementById('parcel-note').value;
            
            if (!parcelId || !recipientName || !recipientPhone || !address) {
                alert('အချက်အလက်အားလုံး ဖြည့်စွက်ပါ');
                return;
            }
            
            // ပစ္စည်း အသစ်ဖန်တီးခြင်း
            const newParcel = {
                id: parcelId,
                recipientName: recipientName,
                recipientPhone: recipientPhone,
                address: address,
                notes: note,
                status: 'pending',
                createdBy: currentUser.id,
                createdAt: new Date().toISOString(),
                // တကယ်တမ်းတွင် geocoding API သုံးပြီး lat, lng ရှာရပါမည်
                // လက်ရှိတွင် simulate ပြုလုပ်ထားပါသည်
                lat: 16.8409 + Math.random() * 0.02 - 0.01,
                lng: 96.1735 + Math.random() * 0.02 - 0.01
            };
            
            // Firebase တွင် သိမ်းဆည်းခြင်း (simulate)
            parcels.push(newParcel);
            
            // QR Code ဖန်တီးခြင်း
            generateQRCode('PARCEL-' + parcelId, 'qr-display');
            
            alert('ပစ္စည်းအသစ် ထည့်သွင်းပြီးပါပြီ');
            
            // Update UI
            updateParcelList();
        }
        
        function generateQRCode(data, elementId) {
            const qr = qrcode(0, 'M');
            qr.addData(data);
            qr.make();
            
            document.getElementById(elementId).innerHTML = `
                <h4>ပစ္စည်းအတွက် QR ကုဒ်</h4>
                <div>${qr.createImgTag(5)}</div>
                <p class="small">QR ကုဒ်ကိုဖော်ပြထားပါသည်</p>
            `;
        }

        // SignaturePad ပလပ်ဂင် (simulated)
        class SignaturePad {
            constructor(canvas) {
                this.canvas = canvas;
                this.context = canvas.getContext('2d');
                this.context.lineWidth = 2;
                this.context.strokeStyle = '#000';
                this.drawing = false;
                this.mousePos = { x: 0, y: 0 };
                this.lastPos = this.mousePos;
                
                canvas.addEventListener('mousedown', this.onMouseDown.bind(this), false);
                canvas.addEventListener('mousemove', this.onMouseMove.bind(this), false);
                canvas.addEventListener('mouseup', this.onMouseUp.bind(this), false);
                
                // Touch events
                canvas.addEventListener('touchstart', this.onTouchStart.bind(this), false);
                canvas.addEventListener('touchmove', this.onTouchMove.bind(this), false);
                canvas.addEventListener('touchend', this.onTouchEnd.bind(this), false);
                
                // Prevent scrolling when touching the canvas
                canvas.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                }, false);
                canvas.addEventListener('touchmove', function(e) {
                    e.preventDefault();
                }, false);
            }
            
            onMouseDown(e) {
                this.drawing = true;
                this.lastPos = this.getMousePos(e);
            }
            
            onMouseMove(e) {
                this.mousePos = this.getMousePos(e);
                this.renderCanvas();
            }
            
            onMouseUp() {
                this.drawing = false;
            }
            
            onTouchStart(e) {
                if (e.touches.length === 1) {
                    this.drawing = true;
                    const touch = e.touches[0];
                    this.lastPos = this.getTouchPos(touch);
                }
            }
            
            onTouchMove(e) {
                if (e.touches.length === 1) {
                    const touch = e.touches[0];
                    this.mousePos = this.getTouchPos(touch);
                    this.renderCanvas();
                }
            }
            
            onTouchEnd() {
                this.drawing = false;
            }
            
            getMousePos(e) {
                const rect = this.canvas.getBoundingClientRect();
                return {
                    x: e.clientX - rect.left,
                    y: e.clientY - rect.top
                };
            }
            
            getTouchPos(touch) {
                const rect = this.canvas.getBoundingClientRect();
                return {
                    x: touch.clientX - rect.left,
                    y: touch.clientY - rect.top
                };
            }
            
            renderCanvas() {
                if (this.drawing) {
                    this.context.beginPath();
                    this.context.moveTo(this.lastPos.x, this.lastPos.y);
                    this.context.lineTo(this.mousePos.x, this.mousePos.y);
                    this.context.stroke();
                    this.lastPos = this.mousePos;
                }
            }
            
            clear() {
                this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);
            }
            
            isEmpty() {
                const pixelData = this.context.getImageData(0, 0, this.canvas.width, this.canvas.height).data;
                for (let i = 3; i < pixelData.length; i += 4) {
                    if (pixelData[i] > 0) {
                        return false;
                    }
                }
                return true;
            }
        }
    </script>
    
    <!-- Google Maps API -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDI9QayA38zpkwpGVCFtUQ3WxUkgpwFvEk"></script>
</body>
</html>

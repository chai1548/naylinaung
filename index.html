<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>မြန်မာ-ထိုင်း ပစ္စည်းပို့ဆောင်ရေး ဝန်ဆောင်မှု</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
    <style>
        @font-face {
            font-family: 'Pyidaungsu';
            src: url('https://cdn.jsdelivr.net/npm/myanmar-font-embed/font/pyidaungsu-1.8.3/Pyidaungsu-Regular.woff2') format('woff2');
        }
        body {
            font-family: 'Pyidaungsu', sans-serif;
            background-color: #f3f4f6;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .user-tab-content {
            display: none;
        }
        .user-tab-content.active {
            display: block;
        }
        .banner-slide {
            transition: all 0.5s ease;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        .pdf-viewer {
            border: 1px solid #ddd;
            height: 500px;
            width: 100%;
        }
        #qr-video, #user-qr-video, #public-qr-video {
            width: 100%;
            max-height: 300px;
            background-color: #000;
        }
        #qr-canvas, #user-qr-canvas, #public-qr-canvas {
            display: none;
        }
        #map, #userTrackingMap, #publicTrackingMap {
            height: 400px;
            width: 100%;
            border-radius: 0.5rem;
        }
        .auth-tabs span {
            cursor: pointer;
        }
        .auth-tabs span.active {
            border-bottom: 2px solid #3b82f6;
            color: #3b82f6;
        }
        .auth-content {
            display: none;
        }
        .auth-content.active {
            display: block;
        }
    </style>
</head>
<body>
    <div class="container mx-auto px-4 py-8">
        <!-- Header Section -->
        <header class="bg-blue-600 text-white p-4 rounded-lg shadow-lg mb-6">
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <img src="https://cdn.jsdelivr.net/npm/country-flag-icons@1.5.5/flags/4x3/mm.svg" class="w-10 h-10 mr-2" alt="Myanmar Flag">
                    <img src="https://cdn.jsdelivr.net/npm/country-flag-icons@1.5.5/flags/4x3/th.svg" class="w-10 h-10 mr-4" alt="Thailand Flag">
                    <h1 class="text-2xl font-bold">မြန်မာ-ထိုင်း ပစ္စည်းပို့ဆောင်ရေး ဝန်ဆောင်မှု</h1>
                </div>
                <div id="userSection" class="flex items-center">
                    <div id="userNotLoggedIn" class="block">
                        <button id="openAuthModalBtn" class="bg-white text-blue-600 hover:bg-blue-100 font-bold py-2 px-4 rounded">
                            <i class="fas fa-user mr-1"></i> အကောင့်ဝင်ရန်
                        </button>
                    </div>
                    <div id="userLoggedIn" class="hidden">
                        <span id="displayName" class="mr-2 text-white"></span>
                        <button id="logoutBtn" class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-3 rounded">
                            <i class="fas fa-sign-out-alt mr-1"></i> ထွက်ရန်
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- Auth Modal -->
        <div id="authModal" class="fixed inset-0 hidden z-50 overflow-auto bg-black bg-opacity-50 flex items-center justify-center">
            <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-semibold">အကောင့်ဝင်ရန်/မှတ်ပုံတင်ရန်</h2>
                    <button id="closeAuthModalBtn" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="auth-tabs flex border-b mb-4">
                    <span class="auth-tab active py-2 px-4 font-semibold" data-tab="login">အကောင့်ဝင်ရန်</span>
                    <span class="auth-tab py-2 px-4 font-semibold" data-tab="signup">အကောင့်အသစ်ပြုလုပ်ရန်</span>
                </div>
                
                <div id="loginContent" class="auth-content active">
                    <div class="mb-4">
                        <label for="loginEmail" class="block mb-2">အီးမေးလ်</label>
                        <input type="email" id="loginEmail" class="w-full p-2 border rounded" placeholder="အီးမေးလ်ထည့်သွင်းပါ">
                    </div>
                    <div class="mb-4">
                        <label for="loginPassword" class="block mb-2">စကားဝှက်</label>
                        <input type="password" id="loginPassword" class="w-full p-2 border rounded" placeholder="စကားဝှက်ထည့်သွင်းပါ">
                    </div>
                    <div class="mb-4">
                        <button id="loginBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded w-full">
                            <i class="fas fa-sign-in-alt mr-1"></i> ဝင်ရန်
                        </button>
                    </div>
                    <div class="flex justify-center">
                        <button id="googleLoginBtn" class="bg-white border border-gray-300 hover:bg-gray-100 text-gray-800 font-semibold py-2 px-4 rounded w-full flex items-center justify-center">
                            <img src="https://cdn.jsdelivr.net/npm/simple-icons@v5/icons/google.svg" alt="Google" class="w-4 h-4 mr-2">
                            Google ဖြင့် ဝင်ရန်
                        </button>
                    </div>
                </div>
                
                <div id="signupContent" class="auth-content">
                    <div class="mb-4">
                        <label for="signupName" class="block mb-2">အမည်</label>
                        <input type="text" id="signupName" class="w-full p-2 border rounded" placeholder="အမည်ထည့်သွင်းပါ">
                    </div>
                    <div class="mb-4">
                        <label for="signupEmail" class="block mb-2">အီးမေးလ်</label>
                        <input type="email" id="signupEmail" class="w-full p-2 border rounded" placeholder="အီးမေးလ်ထည့်သွင်းပါ">
                    </div>
                    <div class="mb-4">
                        <label for="signupPassword" class="block mb-2">စကားဝှက်</label>
                        <input type="password" id="signupPassword" class="w-full p-2 border rounded" placeholder="စကားဝှက်ထည့်သွင်းပါ">
                    </div>
                    <div class="mb-4">
                        <label for="signupConfirmPassword" class="block mb-2">စကားဝှက်အတည်ပြုပါ</label>
                        <input type="password" id="signupConfirmPassword" class="w-full p-2 border rounded" placeholder="စကားဝှက်ပြန်လည်ထည့်သွင်းပါ">
                    </div>
                    <div class="mb-4">
                        <button id="signupBtn" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded w-full">
                            <i class="fas fa-user-plus mr-1"></i> မှတ်ပုံတင်ရန်
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Admin Dashboard (Initially Hidden) -->
        <div id="adminDashboard" class="hidden">
            <!-- Tab Navigation -->
            <div class="bg-white p-4 rounded-lg shadow-md mb-6">
                <div class="flex flex-wrap border-b">
                    <button class="tab-btn py-2 px-4 font-semibold border-b-2 border-blue-500 text-blue-500" data-tab="priceManagement">
                        <i class="fas fa-tags mr-1"></i> ဈေးနှုန်းများ စီမံခန့်ခွဲမှု
                    </button>
                    <button class="tab-btn py-2 px-4 font-semibold hover:text-blue-500" data-tab="deliveryManagement">
                        <i class="fas fa-truck mr-1"></i> ပို့ဆောင်မှုများ စီမံခန့်ခွဲမှု
                    </button>
                    <button class="tab-btn py-2 px-4 font-semibold hover:text-blue-500" data-tab="reports">
                        <i class="fas fa-chart-bar mr-1"></i> အစီရင်ခံစာများ
                    </button>
                    <button class="tab-btn py-2 px-4 font-semibold hover:text-blue-500" data-tab="advertisement">
                        <i class="fas fa-ad mr-1"></i> ကြော်ညာများ စီမံခန့်ခွဲမှု
                    </button>
                    <button class="tab-btn py-2 px-4 font-semibold hover:text-blue-500" data-tab="qrCodeManager">
                        <i class="fas fa-qrcode mr-1"></i> QR ကုဒ် စီမံခန့်ခွဲမှု
                    </button>
                </div>
            </div>

            <!-- Tab Contents -->
            <!-- Price Management Tab -->
            <div id="priceManagement" class="tab-content active bg-white p-6 rounded-lg shadow-md mb-6">
                <h2 class="text-xl font-semibold mb-4">ဈေးနှုန်းများ စီမံခန့်ခွဲမှု</h2>
                
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2">PDF ဖိုင်အသစ် တင်ရန်</h3>
                    <div class="flex items-center">
                        <select id="citySelect" class="mr-4 p-2 border rounded">
                            <option value="YGN">ရန်ကုန် (YGN)</option>
                            <option value="MDY">မန္တလေး (MDY)</option>
                            <option value="HPA">ဘားအံ (HPA)</option>
                            <option value="MWD">မော်လမြိုင် (MWD)</option>
                        </select>
                        <input type="file" id="pdfUpload" accept=".pdf" class="p-2">
                        <button id="uploadBtn" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded ml-2">
                            <i class="fas fa-upload mr-1"></i> တင်ရန်
                        </button>
                    </div>
                </div>
                
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2">လက်ရှိ ဈေးနှုန်းဇယားများ</h3>
                    <div class="overflow-x-auto">
                        <table class="mb-4">
                            <thead>
                                <tr>
                                    <th>မြို့</th>
                                    <th>နောက်ဆုံး ပြင်ဆင်ရက်</th>
                                    <th>လုပ်ဆောင်ချက်များ</th>
                                </tr>
                            </thead>
                            <tbody id="priceLists">
                                <tr>
                                    <td>ရန်ကုန် (YGN)</td>
                                    <td>၂၀၂၅-၀၅-၁၉</td>
                                    <td>
                                        <button class="view-price-btn bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded mr-2" data-city="YGN">
                                            <i class="fas fa-eye"></i> ကြည့်ရှုရန်
                                        </button>
                                        <button class="qr-btn bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-2 rounded" data-city="YGN">
                                            <i class="fas fa-qrcode"></i> QR
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>မန္တလေး (MDY)</td>
                                    <td>၂၀၂၅-၀၅-၁၈</td>
                                    <td>
                                        <button class="view-price-btn bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded mr-2" data-city="MDY">
                                            <i class="fas fa-eye"></i> ကြည့်ရှုရန်
                                        </button>
                                        <button class="qr-btn bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-2 rounded" data-city="MDY">
                                            <i class="fas fa-qrcode"></i> QR
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>ဘားအံ (HPA)</td>
                                    <td>၂၀၂၅-၀၅-၁၇</td>
                                    <td>
                                        <button class="view-price-btn bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded mr-2" data-city="HPA">
                                            <i class="fas fa-eye"></i> ကြည့်ရှုရန်
                                        </button>
                                        <button class="qr-btn bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-2 rounded" data-city="HPA">
                                            <i class="fas fa-qrcode"></i> QR
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>မော်လမြိုင် (MWD)</td>
                                    <td>၂၀၂၅-၀၅-၁၆</td>
                                    <td>
                                        <button class="view-price-btn bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded mr-2" data-city="MWD">
                                            <i class="fas fa-eye"></i> ကြည့်ရှုရန်
                                        </button>
                                        <button class="qr-btn bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-2 rounded" data-city="MWD">
                                            <i class="fas fa-qrcode"></i> QR
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div id="pdfViewerContainer" class="mb-6 hidden">
                    <h3 id="currentPdfTitle" class="text-lg font-medium mb-2"></h3>
                    <iframe id="pdfViewer" class="pdf-viewer"></iframe>
                </div>
            </div>

            <!-- Delivery Management Tab -->
            <div id="deliveryManagement" class="tab-content bg-white p-6 rounded-lg shadow-md mb-6">
                <h2 class="text-xl font-semibold mb-4">ပို့ဆောင်မှုများ စီမံခန့်ခွဲမှု</h2>
                
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2">ပို့ဆောင်မှုအသစ် ထည့်သွင်းရန်</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block mb-1">ပို့လွှတ်သူ အမည်</label>
                            <input type="text" id="senderName" class="w-full p-2 border rounded">
                        </div>
                        <div>
                            <label class="block mb-1">လက်ခံသူ အမည်</label>
                            <input type="text" id="receiverName" class="w-full p-2 border rounded">
                        </div>
                        <div>
                            <label class="block mb-1">မြို့မှ</label>
                            <select id="fromCity" class="w-full p-2 border rounded">
                                <option value="YGN">ရန်ကုန် (YGN)</option>
                                <option value="MDY">မန္တလေး (MDY)</option>
                                <option value="HPA">ဘားအံ (HPA)</option>
                                <option value="MWD">မော်လမြိုင် (MWD)</option>
                            </select>
                        </div>
                        <div>
                            <label class="block mb-1">လိပ်စာ</label>
                            <textarea id="address" class="w-full p-2 border rounded" rows="3"></textarea>
                        </div>
                        <div>
                            <label class="block mb-1">ကုန်ပစ္စည်းအလေးချိန် (kg)</label>
                            <input type="number" id="weight" class="w-full p-2 border rounded">
                        </div>
                        <div>
                            <label class="block mb-1">ပို့ဆောင်မှုနည်းလမ်း</label>
                            <select id="deliveryMethod" class="w-full p-2 border rounded">
                                <option value="Flash">Flash Express</option>
                                <option value="EMS">EMS</option>
                                <option value="Kerry">Kerry</option>
                                <option value="J&T">J&T</option>
                                <option value="Office">ရုံးကားဖြင့်</option>
                            </select>
                        </div>
                        <div>
                            <label class="block mb-1">တည်နေရာ</label>
                            <div class="flex">
                                <input type="text" id="locationLat" placeholder="Latitude" class="w-1/2 p-2 border rounded-l">
                                <input type="text" id="locationLng" placeholder="Longitude" class="w-1/2 p-2 border rounded-r">
                            </div>
                            <button id="getCurrentLocationBtn" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-2 rounded mt-1">
                                <i class="fas fa-map-marker-alt mr-1"></i> လက်ရှိတည်နေရာ
                            </button>
                        </div>
                    </div>
                    <button id="addDeliveryBtn" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">
                        <i class="fas fa-plus mr-1"></i> ထည့်သွင်းရန်
                    </button>
                </div>
                
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2">လက်ရှိ ပို့ဆောင်မှုများ</h3>
                    <div class="overflow-x-auto">
                        <table>
                            <thead>
                                <tr>
                                    <th>ပို့လွှတ်သူ</th>
                                    <th>လက်ခံသူ</th>
                                    <th>မြို့</th>
                                    <th>အလေးချိန်</th>
                                    <th>ပို့ဆောင်မှုနည်းလမ်း</th>
                                    <th>အခြေအနေ</th>
                                    <th>တည်နေရာ</th>
                                    <th>လုပ်ဆောင်ချက်များ</th>
                                </tr>
                            </thead>
                            <tbody id="deliveryList">
                                <tr>
                                    <td>ကျော်ဇင်</td>
                                    <td>မြတ်သွယ်</td>
                                    <td>ရန်ကုန် (YGN)</td>
                                    <td>5 kg</td>
                                    <td>Flash Express</td>
                                    <td>ပို့ဆောင်ဆဲ</td>
                                    <td>16.8661, 96.1951</td>
                                    <td>
                                        <button class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-2 rounded mr-1">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded mr-1">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                        <button class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-2 rounded generate-qr-btn" data-id="PKG001">
                                            <i class="fas fa-qrcode"></i>
                                        </button>
                                    </td>
                                </tr>
                                <tr>
                                    <td>မင်းသူ</td>
                                    <td>အိမ့်ချမ်း</td>
                                    <td>မန္တလေး (MDY)</td>
                                    <td>3 kg</td>
                                    <td>J&T</td>
                                    <td>ပို့ဆောင်ပြီး</td>
                                    <td>21.9588, 96.0891</td>
                                    <td>
                                        <button class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-2 rounded mr-1">
                                            <i class="fas fa-edit"></i>
                                        </button>
                                        <button class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded mr-1">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                        <button class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-2 rounded generate-qr-btn" data-id="PKG002">
                                            <i class="fas fa-qrcode"></i>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2">ကုန်ပစ္စည်းတည်နေရာများ</h3>
                    <div id="deliveryMap" class="mt-4" style="height: 400px; width: 100%;">
                        <!-- Map will render here -->
                    </div>
                </div>
            </div>

            <!-- Reports Tab -->
            <div id="reports" class="tab-content bg-white p-6 rounded-lg shadow-md mb-6">
                <h2 class="text-xl font-semibold mb-4">အစီရင်ခံစာများ</h2>
                
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2">ပို့ဆောင်မှု အစီရင်ခံစာ</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div class="bg-blue-100 p-4 rounded-lg shadow">
                            <h4 class="font-semibold">စုစုပေါင်း ပို့ဆောင်မှု</h4>
                            <p class="text-2xl font-bold text-blue-700">၁၅၄</p>
                        </div>
                        <div class="bg-green-100 p-4 rounded-lg shadow">
                            <h4 class="font-semibold">ပို့ဆောင်ပြီး</h4>
                            <p class="text-2xl font-bold text-green-700">၁၂၀</p>
                        </div>
                        <div class="bg-yellow-100 p-4 rounded-lg shadow">
                            <h4 class="font-semibold">ပို့ဆောင်ဆဲ</h4>
                            <p class="text-2xl font-bold text-yellow-700">၃၄</p>
                        </div>
                    </div>
                </div>
                
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2">မြို့အလိုက် ပို့ဆောင်မှု</h3>
                    <div class="overflow-x-auto">
                        <table>
                            <thead>
                                <tr>
                                    <th>မြို့</th>
                                    <th>အရေအတွက်</th>
                                    <th>ရာခိုင်နှုန်း</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ရန်ကုန် (YGN)</td>
                                    <td>78</td>
                                    <td>50.6%</td>
                                </tr>
                                <tr>
                                    <td>မန္တလေး (MDY)</td>
                                    <td>42</td>
                                    <td>27.3%</td>
                                </tr>
                                <tr>
                                    <td>ဘားအံ (HPA)</td>
                                    <td>14</td>
                                    <td>9.1%</td>
                                </tr>
                                <tr>
                                    <td>မော်လမြိုင် (MWD)</td>
                                    <td>20</td>
                                    <td>13%</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Advertisement Management Tab -->
            <div id="advertisement" class="tab-content bg-white p-6 rounded-lg shadow-md mb-6">
                <h2 class="text-xl font-semibold mb-4">ကြော်ညာများ စီမံခန့်ခွဲမှု</h2>
                
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2">ကြော်ညာအသစ် ထည့်သွင်းရန်</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block mb-1">ကြော်ညာခေါင်းစဉ်</label>
                            <input type="text" id="adTitle" class="w-full p-2 border rounded">
                        </div>
                        <div>
                            <label class="block mb-1">ပုံ URL</label>
                            <input type="text" id="adImageUrl" class="w-full p-2 border rounded">
                        </div>
                        <div>
                            <label class="block mb-1">ပြသမည့်ရက်</label>
                            <input type="date" id="adDate" class="w-full p-2 border rounded">
                        </div>
                        <div>
                            <label class="block mb-1">အမျိုးအစား</label>
                            <select id="adType" class="w-full p-2 border rounded">
                                <option value="Flash">Flash Express</option>
                                <option value="Other">အခြား</option>
                            </select>
                        </div>
                    </div>
                    <button id="addAdBtn" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">
                        <i class="fas fa-plus mr-1"></i> ထည့်သွင်းရန်
                    </button>
                </div>
                
                <div class="mb-6">
                    <h3 class="text-lg font-medium mb-2">လက်ရှိ ကြော်ညာများ</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="border rounded-lg overflow-hidden">
                            <img src="https://cdn.jsdelivr.net/npm/country-flag-icons@1.5.5/flags/4x3/th.svg" class="w-full h-40 object-cover" alt="Flash Express">
                            <div class="p-3">
                                <h4 class="font-semibold">Flash Express သယ်ယူပို့ဆောင်ရေး</h4>
                                <p class="text-sm text-gray-600">၂၀၂၅-၀၅-၂၀</p>
                                <div class="flex justify-end mt-2">
                                    <button class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-2 rounded mr-1">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="border rounded-lg overflow-hidden">
                            <img src="https://cdn.jsdelivr.net/npm/country-flag-icons@1.5.5/flags/4x3/mm.svg" class="w-full h-40 object-cover" alt="Myanmar Promotion">
                            <div class="p-3">
                                <h4 class="font-semibold">မြန်မာကုန် အထူးလျှော့ဈေး</h4>
                                <p class="text-sm text-gray-600">၂၀၂၅-၀၅-၂၁</p>
                                <div class="flex justify-end mt-2">
                                    <button class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-2 rounded mr-1">
                                        <i class="fas fa-edit"></i>
                                    </button>
                                    <button class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-2 rounded">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- QR Code Manager Tab -->
            <div id="qrCodeManager" class="tab-content bg-white p-6 rounded-lg shadow-md mb-6">
                <h2 class="text-xl font-semibold mb-4">QR ကုဒ် စီမံခန့်ခွဲမှု</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- QR Code Generator -->
                    <div class="mb-6">
                        <h3 class="text-lg font-medium mb-2">QR ကုဒ်ဖန်တီးရန်</h3>
                        <div class="mb-4">
                            <label class="block mb-1">QR ကုဒ်အမျိုးအစား</label>
                            <select id="qrType" class="w-full p-2 border rounded">
                                <option value="tracking">ကုန်ပစ္စည်းခြေရာခံရန်</option>
                                <option value="price">ဈေးနှုန်းဇယား</option>
                                <option value="contact">ဆက်သွယ်ရန်အချက်အလက်</option>
                                <option value="custom">စိတ်ကြိုက်စာသား</option>
                            </select>
                        </div>
                        <div class="mb-4">
                            <label class="block mb-1">ပုံစံ ID</label>
                            <input type="text" id="qrValue" class="w-full p-2 border rounded" placeholder="ID သို့မဟုတ် စာသားထည့်သွင်းပါ">
                        </div>
                        <button id="generateQrBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                            <i class="fas fa-qrcode mr-1"></i> QR ကုဒ်ဖန်တီးရန်
                        </button>
                        <div id="qrResult" class="mt-4 flex flex-col items-center hidden">
                            <div id="qrCode" class="p-4 bg-white rounded-lg shadow-md"></div>
                            <button id="downloadQrBtn" class="mt-4 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">
                                <i class="fas fa-download mr-1"></i> QR ကုဒ်ကိုဒေါင်းလုဒ်လုပ်ရန်
                            </button>
                        </div>
                    </div>
                    
                    <!-- QR Code Scanner -->
                    <div class="mb-6">
                        <h3 class="text-lg font-medium mb-2">QR ကုဒ်စကင်ဖတ်ရန်</h3>
                        <div class="mb-4">
                            <button id="startScanBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                                <i class="fas fa-camera mr-1"></i> စကင်ဖတ်စတင်ရန်
                            </button>
                            <button id="stopScanBtn" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2 hidden">
                                <i class="fas fa-stop mr-1"></i> စကင်ဖတ်ရပ်ရန်
                            </button>
                        </div>
                        <div id="scannerContainer" class="hidden">
                            <video id="qr-video" playsinline></video>
                            <canvas id="qr-canvas"></canvas>
                        </div>
                        <div id="scanResult" class="mt-4 p-4 bg-green-50 border border-green-200 rounded-lg hidden">
                            <h4 class="font-medium mb-2">စကင်ဖတ်ရလဒ်</h4>
                            <p id="scannedValue"></p>
                            <div id="scanDetailResult" class="mt-2"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- User Dashboard (Initially Hidden) -->
        <div id="userDashboard" class="hidden">
            <!-- User Tab Navigation -->
            <div class="bg-white p-4 rounded-lg shadow-md mb-6">
                <div class="flex flex-wrap border-b">
                    <button class="user-tab-btn py-2 px-4 font-semibold border-b-2 border-blue-500 text-blue-500" data-tab="userTracking">
                        <i class="fas fa-search mr-1"></i> ကုန်ပစ္စည်းရှာဖွေရန်
                    </button>
                    <button class="user-tab-btn py-2 px-4 font-semibold hover:text-blue-500" data-tab="userHistory">
                        <i class="fas fa-history mr-1"></i> ပို့ဆောင်မှုမှတ်တမ်း
                    </button>
                    <button class="user-tab-btn py-2 px-4 font-semibold hover:text-blue-500" data-tab="userQrScanner">
                        <i class="fas fa-qrcode mr-1"></i> QR စကင်ဖတ်ရန်
                    </button>
                </div>
            </div>

            <!-- User Tab Contents -->
            <!-- Tracking Tab -->
            <div id="userTracking" class="user-tab-content active bg-white p-6 rounded-lg shadow-md mb-6">
                <h2 class="text-xl font-semibold mb-4">ကုန်ပစ္စည်းရှာဖွေရန်</h2>
                <div class="flex mb-4">
                    <input type="text" id="userTrackingId" placeholder="Tracking ID ထည့်သွင်းပါ" class="flex-grow p-2 border rounded-l">
                    <button id="userTrackBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-r">
                        <i class="fas fa-search mr-1"></i> ရှာရန်
                    </button>
                </div>
                <div id="userTrackingResult" class="mt-4 hidden">
                    <h3 class="text-lg font-medium mb-2">ပစ္စည်းအခြေအနေ</h3>
                    <div class="bg-gray-50 p-4 rounded border">
                        <p class="mb-2"><strong>Tracking ID:</strong> <span id="userResultTrackingId"></span></p>
                        <p class="mb-2"><strong>ပို့လွှတ်သူ:</strong> <span id="userResultSender"></span></p>
                        <p class="mb-2"><strong>လက်ခံသူ:</strong> <span id="userResultReceiver"></span></p>
                        <p class="mb-2"><strong>အခြေအနေ:</strong> <span id="userResultStatus" class="font-bold"></span></p>
                        
                        <h4 class="font-medium mt-4 mb-2">အခြေအနေဖော်ပြချက်</h4>
                        <ul id="userTrackingTimeline" class="border-l-2 border-blue-500 pl-4">
                            <!-- Timeline items will be inserted here -->
                        </ul>
                    </div>
                </div>

                <div id="userPackageMap" class="mt-4 hidden">
                    <h3 class="text-lg font-medium mb-2">ပစ္စည်းတည်နေရာ</h3>
                    <div id="userTrackingMap" class="mt-4" style="height: 400px; width: 100%;"></div>
                </div>
            </div>

            <!-- History Tab -->
            <div id="userHistory" class="user-tab-content bg-white p-6 rounded-lg shadow-md mb-6">
                <h2 class="text-xl font-semibold mb-4">ပို့ဆောင်မှုမှတ်တမ်း</h2>
                <div class="overflow-x-auto">
                    <table class="mb-4">
                        <thead>
                            <tr>
                                <th>Tracking ID</th>
                                <th>ပို့သည့်ရက်</th>
                                <th>လက်ခံသူ</th>
                                <th>ပို့ဆောင်မှုနည်းလမ်း</th>
                                <th>အခြေအနေ</th>
                                <th>လုပ်ဆောင်ချက်များ</th>
                            </tr>
                        </thead>
                        <tbody id="userHistoryList">
                            <tr>
                                <td>PKG001</td>
                                <td>၂၀၂၅-၀၅-၁၈</td>
                                <td>မြတ်သွယ်</td>
                                <td>Flash Express</td>
                                <td><span class="px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs">ပို့ဆောင်ဆဲ</span></td>
                                <td>
                                    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded mr-1 view-history-btn" data-id="PKG001">
                                        <i class="fas fa-eye"></i> ကြည့်ရှုရန်
                                    </button>
                                    <button class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-2 rounded user-qr-btn" data-id="PKG001">
                                        <i class="fas fa-qrcode"></i> QR ကြည့်ရန်
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>PKG002</td>
                                <td>၂၀၂၅-၀၅-၁၅</td>
                                <td>အိမ့်ချမ်း</td>
                                <td>J&T</td>
                                <td><span class="px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs">ပို့ဆောင်ပြီး</span></td>
                                <td>
                                    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-2 rounded mr-1 view-history-btn" data-id="PKG002">
                                        <i class="fas fa-eye"></i> ကြည့်ရှုရန်
                                    </button>
                                    <button class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-2 rounded user-qr-btn" data-id="PKG002">
                                        <i class="fas fa-qrcode"></i> QR ကြည့်ရန်
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div id="userQrCodeDisplay" class="hidden mt-4 flex flex-col items-center">
                    <h3 class="text-lg font-medium mb-2">ကုန်ပစ္စည်း QR ကုဒ်</h3>
                    <div id="userQrCode" class="p-4 bg-white rounded-lg shadow-md"></div>
                    <p id="userQrPackageId" class="mt-2 text-gray-700"></p>
                </div>
            </div>

            <!-- QR Scanner Tab -->
            <div id="userQrScanner" class="user-tab-content bg-white p-6 rounded-lg shadow-md mb-6">
                <h2 class="text-xl font-semibold mb-4">QR ကုဒ်စကင်ဖတ်ရန်</h2>
                <p class="mb-4">ကုန်ပစ္စည်း၏ QR ကုဒ်ကို စကင်ဖတ်၍ အချက်အလက်ကြည့်ရှုနိုင်ပါသည်။</p>
                
                <button id="userStartScanBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                    <i class="fas fa-camera mr-1"></i> စကင်ဖတ်စတင်ရန်
                </button>
                <button id="userStopScanBtn" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-2 hidden">
                    <i class="fas fa-stop mr-1"></i> စကင်ဖတ်ရပ်ရန်
                </button>
                
                <div id="userScannerContainer" class="hidden mt-4">
                    <video id="user-qr-video" playsinline></video>
                    <canvas id="user-qr-canvas"></canvas>
                </div>
                
                <div id="userScanResult" class="mt-4 p-4 bg-green-50 border border-green-200 rounded-lg hidden">
                    <h4 class="font-medium mb-2">စကင်ဖတ်ရလဒ်</h4>
                    <p id="userScannedValue"></p>
                    <div id="userPackageDetails" class="mt-4"></div>
                </div>
            </div>
        </div>

        <!-- Public View Section -->
        <div id="publicView">
            <!-- Banner/Advertisement Slider -->
            <div class="relative bg-white p-4 rounded-lg shadow-md mb-6 overflow-hidden">
                <div id="bannerSlider" class="flex transition-transform duration-500 ease-in-out">
                    <div class="banner-slide min-w-full">
                        <div class="flex items-center justify-center bg-yellow-100 rounded-lg p-4 h-48">
                            <div class="flex items-center">
                                <img src="https://cdn.jsdelivr.net/npm/country-flag-icons@1.5.5/flags/4x3/th.svg" class="w-20 h-20 mr-4" alt="Flash Express">
                                <div>
                                    <h3 class="text-xl font-bold text-yellow-800">Flash Express သယ်ယူပို့ဆောင်ရေး</h3>
                                    <p class="text-yellow-700">မြန်ဆန်၊ စိတ်ချရ၊ စျေးနှုန်းသင့်တင့်</p>
                                    <button class="mt-2 bg-yellow-500 hover:bg-yellow-600 text-white font-bold py-1 px-3 rounded">
                                        အသေးစိတ် ကြည့်ရှုရန်
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="banner-slide min-w-full">
                        <div class="flex items-center justify-center bg-blue-100 rounded-lg p-4 h-48">
                            <div class="flex items-center">
                                <img src="https://cdn.jsdelivr.net/npm/country-flag-icons@1.5.5/flags/4x3/mm.svg" class="w-20 h-20 mr-4" alt="Myanmar Promotion">
                                <div>
                                    <h3 class="text-xl font-bold text-blue-800">မြန်မာကုန် အထူးလျှော့ဈေး</h3>
                                    <p class="text-blue-700">၁၀ ကီလိုအထက် ၂၀% လျှော့ဈေးဖြင့် ပို့ဆောင်ပေးနေပါပြီ</p>
                                    <button class="mt-2 bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-3 rounded">
                                        အသေးစိတ် ကြည့်ရှုရန်
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button id="prevBanner" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-50 hover:bg-opacity-75 rounded-full p-2">
                    <i class="fas fa-chevron-left text-gray-800"></i>
                </button>
                <button id="nextBanner" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-50 hover:bg-opacity-75 rounded-full p-2">
                    <i class="fas fa-chevron-right text-gray-800"></i>
                </button>
            </div>

            <!-- QR Code Scan Section -->
            <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                <h2 class="text-xl font-semibold mb-4">QR ကုဒ်ဖြင့် ပစ္စည်းစစ်ဆေးရန်</h2>
                <div class="flex flex-col md:flex-row gap-4 items-center">
                    <button id="publicScanBtn" class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded">
                        <i class="fas fa-qrcode mr-1"></i> QR ကုဒ်စကင်ဖတ်ရန်
                    </button>
                    <p>သို့မဟုတ်</p>
                    <div class="flex flex-1">
                        <input type="text" id="publicTrackingId" placeholder="Tracking ID ထည့်သွင်းပါ" class="flex-grow p-2 border rounded-l">
                        <button id="publicTrackBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-r">
                            <i class="fas fa-search mr-1"></i> ရှာရန်
                        </button>
                    </div>
                </div>

                <div id="publicScannerContainer" class="hidden mt-4">
                    <video id="public-qr-video" playsinline></video>
                    <canvas id="public-qr-canvas"></canvas>
                    <button id="publicStopScanBtn" class="mt-2 bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded">
                        <i class="fas fa-stop mr-1"></i> စကင်ဖတ်ရပ်ရန်
                    </button>
                </div>

                <div id="publicTrackingResult" class="mt-4 hidden">
                    <h3 class="text-lg font-medium mb-2">ပစ္စည်းအခြေအနေ</h3>
                    <div class="bg-gray-50 p-4 rounded border">
                        <p class="mb-2"><strong>Tracking ID:</strong> <span id="publicResultTrackingId"></span></p>
                        <p class="mb-2"><strong>ပို့လွှတ်သူ:</strong> <span id="publicResultSender"></span></p>
                        <p class="mb-2"><strong>လက်ခံသူ:</strong> <span id="publicResultReceiver"></span></p>
                        <p class="mb-2"><strong>အခြေအနေ:</strong> <span id="publicResultStatus" class="font-bold"></span></p>
                        
                        <h4 class="font-medium mt-4 mb-2">အခြေအနေဖော်ပြချက်</h4>
                        <ul id="publicTrackingTimeline" class="border-l-2 border-blue-500 pl-4">
                            <!-- Timeline items will be inserted here -->
                        </ul>
                    </div>
                </div>

                <div id="publicPackageMap" class="mt-4 hidden">
                    <h3 class="text-lg font-medium mb-2">ကုန်ပစ္စည်းတည်နေရာ</h3>
                    <div id="publicTrackingMap" class="mt-4" style="height: 300px; width: 100%;"></div>
                </div>
            </div>

            <!-- Price Check Section -->
            <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                <h2 class="text-xl font-semibold mb-4">ဈေးနှုန်းစစ်ဆေးရန်</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                    <div>
                        <label class="block mb-1">မြို့မှ</label>
                        <select id="publicFromCity" class="w-full p-2 border rounded">
                            <option value="YGN">ရန်ကုန် (YGN)</option>
                            <option value="MDY">မန္တလေး (MDY)</option>
                            <option value="HPA">ဘားအံ (HPA)</option>
                            <option value="MWD">မော်လမြိုင် (MWD)</option>
                        </select>
                    </div>
                    <div>
                        <label class="block mb-1">ဘန်ကောက် မြို့ပြင်</label>
                        <select id="publicDestination" class="w-full p-2 border rounded">
                            <option value="city">မြို့တွင်း</option>
                            <option value="outskirt">မြို့ပြင်</option>
                        </select>
                    </div>
                    <div>
                        <label class="block mb-1">အလေးချိန် (kg)</label>
                        <input type="number" id="publicWeight" class="w-full p-2 border rounded">
                    </div>
                </div>
                <button id="checkPriceBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                    <i class="fas fa-search mr-1"></i> ဈေးနှုန်းရှာရန်
                </button>
                
                <div id="priceResult" class="mt-4 hidden">
                    <h3 class="text-lg font-medium mb-2">ဈေးနှုန်းရလဒ်</h3>
                    <div class="bg-blue-50 p-4 rounded border border-blue-200">
                        <p class="mb-2"><strong>မြို့မှ:</strong> <span id="resultFrom"></span></p>
                        <p class="mb-2"><strong>ပို့သည့်နေရာ:</strong> <span id="resultTo"></span></p>
                        <p class="mb-2"><strong>အလေးချိန်:</strong> <span id="resultWeight"></span> kg</p>
                        <p class="mb-2"><strong>သယ်ဆောင်ခ:</strong> <span id="resultPrice" class="text-xl font-bold text-blue-700"></span> ဘတ်</p>
                        <p class="mb-2"><strong>ပို့ဆောင်မှုနည်းလမ်း:</strong> <span id="resultMethod"></span></p>
                        <button id="sharePriceQrBtn" class="mt-2 bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-3 rounded">
                            <i class="fas fa-share-alt mr-1"></i> QR ကုဒ်ဖြင့်မျှဝေရန်
                        </button>
                    </div>
                </div>

                <div id="sharePriceQrContainer" class="mt-4 hidden flex flex-col items-center">
                    <h3 class="text-lg font-medium mb-2">ဈေးနှုန်း QR ကုဒ်</h3>
                    <div id="priceQrCode" class="p-4 bg-white rounded-lg shadow-md"></div>
                    <p class="mt-2 text-gray-700">ဤ QR ကုဒ်ကို စကင်ဖတ်၍ ဈေးနှုန်းအချက်အလက်များကို မျှဝေနိုင်ပါသည်</p>
                </div>
            </div>

            <!-- Price Table Section -->
            <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                <h2 class="text-xl font-semibold mb-4">ဈေးနှုန်းဇယား</h2>
                <div class="overflow-x-auto">
                    <table>
                        <thead>
                            <tr>
                                <th>မြို့မှ</th>
                                <th>အလေးချိန် (kg)</th>
                                <th>အတိုင်းအတာ (cm)</th>
                                <th>ဘန်ကောက်မြို့တွင်း ဈေးနှုန်း (ဘတ်)</th>
                                <th>ဘန်ကောက်မြို့ပြင် ဈေးနှုန်း (ဘတ်)</th>
                                <th>ပို့ဆောင်မှုနည်းလမ်း</th>
                                <th>QR ကုဒ်</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>ရန်ကုန် (YGN)</td>
                                <td>1</td>
                                <td>-</td>
                                <td>75</td>
                                <td>85</td>
                                <td>Flash/EMS/Kerry/J&T</td>
                                <td>
                                    <button class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-2 rounded price-qr-btn" data-city="YGN" data-weight="1">
                                        <i class="fas fa-qrcode"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>ရန်ကုန် (YGN)</td>
                                <td>2</td>
                                <td>25*17*10</td>
                                <td>140</td>
                                <td>160</td>
                                <td>Flash/EMS/Kerry/J&T</td>
                                <td>
                                    <button class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-2 rounded price-qr-btn" data-city="YGN" data-weight="2">
                                        <i class="fas fa-qrcode"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>ရန်ကုန် (YGN)</td>
                                <td>5</td>
                                <td>30*20*12</td>
                                <td>350</td>
                                <td>400</td>
                                <td>Flash/EMS/Kerry/J&T</td>
                                <td>
                                    <button class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-2 rounded price-qr-btn" data-city="YGN" data-weight="5">
                                        <i class="fas fa-qrcode"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td>မန္တလေး (MDY)</td>
                                <td>1</td>
                                <td>-</td>
                                <td>85</td>
                                <td>95</td>
                                <td>Flash/EMS/Kerry/J&T</td>
                                <td>
                                    <button class="bg-purple-500 hover:bg-purple-700 text-white font-bold py-1 px-2 rounded price-qr-btn" data-city="MDY" data-weight="1">
                                        <i class="fas fa-qrcode"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- QR Code Modal -->
        <div id="qrModal" class="fixed inset-0 hidden z-50 overflow-auto bg-black bg-opacity-50 flex items-center justify-center">
            <div class="bg-white p-6 rounded-lg shadow-lg max-w-md w-full">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-xl font-semibold" id="qrModalTitle">QR ကုဒ်</h2>
                    <button id="closeQrModalBtn" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="modalQrCode" class="flex justify-center"></div>
                <p id="modalQrDescription" class="mt-4 text-center text-gray-700"></p>
                <div class="mt-4 flex justify-center">
                    <button id="downloadModalQrBtn" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">
                        <i class="fas fa-download mr-1"></i> QR ကုဒ်ကိုဒေါင်းလုဒ်လုပ်ရန်
                    </button>
                </div>
            </div>
        </div>

        <!-- Footer Section -->
        <footer class="bg-gray-800 text-white p-6 rounded-lg shadow-lg">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <div>
                    <h3 class="text-lg font-semibold mb-3">မြန်မာ-ထိုင်း ပစ္စည်းပို့ဆောင်ရေး ဝန်ဆောင်မှု</h3>
                    <p class="mb-2">မြန်မာနိုင်ငံမှ ထိုင်းနိုင်ငံသို့ အမျိုးမျိုးသော ပစ္စည်းများကို စိတ်ချယုံကြည်စွာ ပို့ဆောင်ပေးနေပါသည်။</p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-3">ဆက်သွယ်ရန်</h3>
                    <p class="mb-2"><i class="fas fa-phone mr-2"></i> +95 9 123456789</p>
                    <p class="mb-2"><i class="fas fa-envelope mr-2"></i> info@myanmarthaicargo.com</p>
                    <p class="mb-2"><i class="fas fa-map-marker-alt mr-2"></i> အမှတ် ၁၂၃၊ လမ်း ၃၀၊ ရန်ကုန်</p>
                    <button id="contactQrBtn" class="mt-2 bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded">
                        <i class="fas fa-qrcode mr-1"></i> QR ကုဒ်ဖြင့်ကြည့်ရှုရန်
                    </button>
                </div>
                <div>
                    <h3 class="text-lg font-semibold mb-3">လုပ်ငန်းချိန်</h3>
                    <p class="mb-2">တနင်္လာ - သောကြာ: နံနက် ၉:၀၀ - ညနေ ၅:၀၀</p>
                    <p class="mb-2">စနေ: နံနက် ၉:၀၀ - နေ့လည် ၁၂:၀၀</p>
                    <p class="mb-2">တနင်္ဂနွေ: ပိတ်</p>
                </div>
            </div>
            <div class="border-t border-gray-700 mt-4 pt-4 text-center">
                <p>&copy; ၂၀၂၅ မြန်မာ-ထိုင်း ပစ္စည်းပို့ဆောင်ရေး ဝန်ဆောင်မှု။ မူပိုင်ခွင့်အားလုံး ထိန်းသိမ်းပြီး။</p>
            </div>
        </footer>
    </div>

    <!-- Firebase Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/firebase@9.22.2/firebase-app-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/firebase@9.22.2/firebase-auth-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/firebase@9.22.2/firebase-firestore-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/firebase@9.22.2/firebase-storage-compat.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
    
    <!-- Google Maps -->
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&callback=initMaps" defer></script>
    
    <script>
        // Initialize Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyB49vRPX8YaWuTP5GS3lsBDqdAaz_hJYAw",
            authDomain: "onlineshop-849c8.firebaseapp.com",
            databaseURL: "https://onlineshop-849c8.firebaseio.com",
            projectId: "onlineshop-849c8",
            storageBucket: "onlineshop-849c8.appspot.com",
            messagingSenderId: "883512833370",
            appId: "1:883512833370:web:a1c8412b158f8744afef63"
        };
        
        firebase.initializeApp(firebaseConfig);
        
        // Global variables
        const auth = firebase.auth();
        const db = firebase.firestore();
        const storage = firebase.storage();
        let currentUser = null;
        let currentSlide = 0;
        let pdfFiles = {
            'YGN': 'https://gensparkstorageprodwest.blob.core.windows.net/personal/2b5773fa-2f6f-45f6-97d2-1cef31289650/upload/default/4b0b6455-8e6b-4f60-ac62-b910b56476a3',
            'HPA': 'https://gensparkstorageprodwest.blob.core.windows.net/personal/2b5773fa-2f6f-45f6-97d2-1cef31289650/upload/default/1e27716c-0fdd-4ba9-95b6-4d27c8342423',
            'MWD': 'https://gensparkstorageprodwest.blob.core.windows.net/personal/2b5773fa-2f6f-45f6-97d2-1cef31289650/upload/default/c475e0db-4c77-4e71-bdeb-882b45c8144c',
            'MDY': 'https://gensparkstorageprodwest.blob.core.windows.net/personal/2b5773fa-2f6f-45f6-97d2-1cef31289650/upload/default/680da418-0dc7-4b05-b0e5-28404b4122cf'
        };
        
        // Package tracking data (simulated database)
        const packageData = {
            'PKG001': {
                sender: 'ကျော်ဇင်',
                receiver: 'မြတ်သွယ်',
                city: 'YGN',
                weight: 5,
                method: 'Flash Express',
                status: 'ပို့ဆောင်ဆဲ',
                location: {lat: 16.8661, lng: 96.1951},
                timeline: [
                    {status: 'ပစ္စည်းလက်ခံပြီး', date: '၂၀၂၅-၀၅-၁၈ ၀၉:၃၀'},
                    {status: 'ထိုင်းနိုင်ငံသို့ ပို့ဆောင်ဆဲ', date: '၂၀၂၅-၀၅-၁၉ ၁၁:၄၅'}
                ]
            },
            'PKG002': {
                sender: 'မင်းသူ',
                receiver: 'အိမ့်ချမ်း',
                city: 'MDY',
                weight: 3,
                method: 'J&T',
                status: 'ပို့ဆောင်ပြီး',
                location: {lat: 21.9588, lng: 96.0891},
                timeline: [
                    {status: 'ပစ္စည်းလက်ခံပြီး', date: '၂၀၂၅-၀၅-၁၅ ၁၀:၂၀'},
                    {status: 'ထိုင်းနိုင်ငံသို့ ပို့ဆောင်ဆဲ', date: '၂၀၂၅-၀၅-၁၆ ၀၉:၃၀'},
                    {status: 'ဘန်ကောက်သို့ ရောက်ရှိပြီး', date: '၂၀၂၅-၀၅-၁၇ ၁၄:၁၅'},
                    {status: 'လက်ခံသူထံ ပို့ဆောင်ပြီး', date: '၂၀၂၅-၀၅-၁၈ ၁၁:၀၀'}
                ]
            }
        };
        
        // Shipping rate data
        const shippingRates = {
            'YGN': {
                1: {price: 75, outskirtPrice: 85},
                2: {price: 140, outskirtPrice: 160},
                5: {price: 350, outskirtPrice: 400},
                10: {price: 700, outskirtPrice: 800},
                30: {price: '45/kg', outskirtPrice: '55/kg'}
            },
            'MDY': {
                1: {price: 85, outskirtPrice: 95},
                2: {price: 160, outskirtPrice: 180},
                5: {price: 400, outskirtPrice: 450},
                10: {price: 800, outskirtPrice: 900},
                30: {price: '55/kg', outskirtPrice: '65/kg'}
            },
            'HPA': {
                1: {price: 75, outskirtPrice: 85},
                2: {price: 126, outskirtPrice: 146},
                5: {price: 315, outskirtPrice: 365},
                10: {price: 630, outskirtPrice: 730},
                30: {price: '41/kg', outskirtPrice: '51/kg'}
            },
            'MWD': {
                1: {price: 75, outskirtPrice: 85},
                2: {price: 119, outskirtPrice: 139},
                5: {price: 298, outskirtPrice: 348},
                10: {price: 595, outskirtPrice: 695},
                30: {price: '38/kg', outskirtPrice: '48/kg'}
            }
        };
        
        // Maps
        let deliveryMap = null;
        let userTrackingMap = null;
        let publicTrackingMap = null;
        let mapMarkers = [];
        
        // Initialize maps
        function initMaps() {
            try {
                // Admin delivery map
                const deliveryMapElement = document.getElementById('deliveryMap');
                if (deliveryMapElement) {
                    deliveryMap = new google.maps.Map(deliveryMapElement, {
                        center: {lat: 16.8661, lng: 96.1951},
                        zoom: 6
                    });
                    
                    // Add markers for existing packages
                    addPackageMarkers(deliveryMap);
                }
                
                // User tracking map
                const userTrackingMapElement = document.getElementById('userTrackingMap');
                if (userTrackingMapElement) {
                    userTrackingMap = new google.maps.Map(userTrackingMapElement, {
                        center: {lat: 16.8661, lng: 96.1951},
                        zoom: 8
                    });
                }
                
                // Public tracking map
                const publicTrackingMapElement = document.getElementById('publicTrackingMap');
                if (publicTrackingMapElement) {
                    publicTrackingMap = new google.maps.Map(publicTrackingMapElement, {
                        center: {lat: 16.8661, lng: 96.1951},
                        zoom: 8
                    });
                }
            } catch (e) {
                console.error("Map initialization error:", e);
            }
        }
        
        // Add package markers to map
        function addPackageMarkers(map) {
            if (!map) return;
            
            // Clear existing markers
            mapMarkers.forEach(marker => marker.setMap(null));
            mapMarkers = [];
            
            // Add markers for each package
            Object.entries(packageData).forEach(([id, data]) => {
                const marker = new google.maps.Marker({
                    position: data.location,
                    map: map,
                    title: `${data.sender} → ${data.receiver}`,
                    icon: data.status === 'ပို့ဆောင်ပြီး' ? 
                        'https://maps.google.com/mapfiles/ms/icons/green-dot.png' : 
                        'https://maps.google.com/mapfiles/ms/icons/yellow-dot.png'
                });
                
                const infoWindow = new google.maps.InfoWindow({
                    content: `
                        <div style="padding: 8px;">
                            <h4 style="margin: 0 0 5px 0;"><strong>Tracking ID: ${id}</strong></h4>
                            <p style="margin: 2px 0;"><strong>ပို့လွှတ်သူ:</strong> ${data.sender}</p>
                            <p style="margin: 2px 0;"><strong>လက်ခံသူ:</strong> ${data.receiver}</p>
                            <p style="margin: 2px 0;"><strong>အခြေအနေ:</strong> ${data.status}</p>
                        </div>
                    `
                });
                
                marker.addListener('click', () => {
                    infoWindow.open(map, marker);
                });
                
                mapMarkers.push(marker);
            });
        }
        
        // Show package location on map
        function showPackageOnMap(trackingId, mapType) {
            const pkg = packageData[trackingId];
            if (!pkg) return;
            
            let targetMap;
            let mapContainer;
            
            switch (mapType) {
                case 'user':
                    targetMap = userTrackingMap;
                    mapContainer = document.getElementById('userPackageMap');
                    break;
                case 'public':
                    targetMap = publicTrackingMap;
                    mapContainer = document.getElementById('publicPackageMap');
                    break;
                default:
                    return;
            }
            
            if (targetMap && mapContainer) {
                mapContainer.classList.remove('hidden');
                
                // Center map on package location
                targetMap.setCenter(pkg.location);
                targetMap.setZoom(10);
                
                // Add marker
                const marker = new google.maps.Marker({
                    position: pkg.location,
                    map: targetMap,
                    title: `${pkg.sender} → ${pkg.receiver}`,
                    icon: pkg.status === 'ပို့ဆောင်ပြီး' ? 
                        'https://maps.google.com/mapfiles/ms/icons/green-dot.png' : 
                        'https://maps.google.com/mapfiles/ms/icons/yellow-dot.png'
                });
                
                const infoWindow = new google.maps.InfoWindow({
                    content: `
                        <div style="padding: 8px;">
                            <h4 style="margin: 0 0 5px 0;"><strong>Tracking ID: ${trackingId}</strong></h4>
                            <p style="margin: 2px 0;"><strong>ပို့လွှတ်သူ:</strong> ${pkg.sender}</p>
                            <p style="margin: 2px 0;"><strong>လက်ခံသူ:</strong> ${pkg.receiver}</p>
                            <p style="margin: 2px 0;"><strong>အခြေအနေ:</strong> ${pkg.status}</p>
                        </div>
                    `
                });
                
                infoWindow.open(targetMap, marker);
            }
        }

        // အသုံးပြုသူဒေတာ သိမ်းဆည်းရန် ဖန်ရှင်
        function saveUserData(user, additionalData = {}) {
            // user ထဲတွင် uid, email, displayName စသည်တို့ပါဝင်သည်
            const userData = {
                uid: user.uid,
                email: user.email,
                displayName: user.displayName || additionalData.displayName || '',
                photoURL: user.photoURL || '',
                phoneNumber: user.phoneNumber || additionalData.phoneNumber || '',
                address: additionalData.address || '',
                createdAt: firebase.firestore.FieldValue.serverTimestamp(),
                lastLogin: firebase.firestore.FieldValue.serverTimestamp()
            };

            // Firestore ထဲတွင် သိမ်းဆည်းခြင်း
            return db.collection('users').doc(user.uid).set(userData, { merge: true })
                .then(() => {
                    console.log('အသုံးပြုသူဒေတာ အောင်မြင်စွာ သိမ်းဆည်းပြီးပါပြီ');
                    return userData;
                })
                .catch((error) => {
                    console.error('အသုံးပြုသူဒေတာ သိမ်းဆည်းရာတွင် အမှားရှိပါသည်:', error);
                    throw error;
                });
        }

        // အသုံးပြုသူဒေတာ ပြန်လည်ရယူရန် ဖန်ရှင်
        function getUserData(userId) {
            return db.collection('users').doc(userId).get()
                .then((doc) => {
                    if (doc.exists) {
                        return doc.data();
                    } else {
                        console.log('အသုံးပြုသူဒေတာ မရှိပါ');
                        return null;
                    }
                })
                .catch((error) => {
                    console.error('အသုံးပြုသူဒေတာ ရယူရာတွင် အမှားရှိပါသည်:', error);
                    throw error;
                });
        }
        
        // Helper function to convert city code to name
        function getCityName(cityCode) {
            switch(cityCode) {
                case 'YGN': return 'ရန်ကုန် (YGN)';
                case 'MDY': return 'မန္တလေး (MDY)';
                case 'HPA': return 'ဘားအံ (HPA)';
                case 'MWD': return 'မော်လမြိုင် (MWD)';
                default: return cityCode;
            }
        }
        
        // Helper function to format date in Burmese
        function formatBurmeseDate(dateStr) {
            if (!dateStr) return '';
            
            const parts = dateStr.split('-');
            if (parts.length !== 3) return dateStr;
            
            // Convert to Burmese numerals
            const burmeseNumerals = ['၀', '၁', '၂', '၃', '၄', '၅', '၆', '၇', '၈', '၉'];
            const year = parts[0].split('').map(d => burmeseNumerals[parseInt(d)]).join('');
            const month = parts[1].split('').map(d => burmeseNumerals[parseInt(d)]).join('');
            const day = parts[2].split('').map(d => burmeseNumerals[parseInt(d)]).join('');
            
            return `${year}-${month}-${day}`;
        }
        
        // Create canvas for QR code
        function createCanvas() {
            const canvas = document.createElement('canvas');
            canvas.id = 'qrCanvas';
            return canvas;
        }
        
        // Auth event handlers
        function openAuthModal() {
            document.getElementById('authModal').classList.remove('hidden');
        }
        
        function closeAuthModal() {
            document.getElementById('authModal').classList.add('hidden');
        }
        
        function switchAuthTab(tabId) {
            const authTabs = document.querySelectorAll('.auth-tab');
            const authContents = document.querySelectorAll('.auth-content');
            
            authTabs.forEach(tab => {
                if (tab.dataset.tab === tabId) {
                    tab.classList.add('active');
                } else {
                    tab.classList.remove('active');
                }
            });
            
            authContents.forEach(content => {
                if (content.id === `${tabId}Content`) {
                    content.classList.add('active');
                } else {
                    content.classList.remove('active');
                }
            });
        }
        
        // Login with email
        function loginWithEmail() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            if (!email || !password) {
                alert('အီးမေးလ်နှင့် စကားဝှက်ကို ထည့်သွင်းပါ။');
                return;
            }
            
            auth.signInWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    // Update last login time
                    db.collection('users').doc(userCredential.user.uid).update({
                        lastLogin: firebase.firestore.FieldValue.serverTimestamp()
                    });
                    closeAuthModal();
                    handleAuthStateChange(userCredential.user);
                })
                .catch((error) => {
                    alert(`အကောင့်ဝင်ရန် မအောင်မြင်ပါ: ${error.message}`);
                });
        }
        
        // Signup with email
        function signupWithEmail() {
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const confirmPassword = document.getElementById('signupConfirmPassword').value;
            
            if (!name || !email || !password) {
                alert('အချက်အလက်အားလုံးကို ထည့်သွင်းပါ။');
                return;
            }
            
            if (password !== confirmPassword) {
                alert('စကားဝှက်နှစ်ခု ကိုက်ညီမှုမရှိပါ။');
                return;
            }
            
            auth.createUserWithEmailAndPassword(email, password)
                .then((userCredential) => {
                    const user = userCredential.user;
                    
                    // Update profile with displayName
                    return user.updateProfile({
                        displayName: name
                    }).then(() => {
                        // Save user data to Firestore
                        return saveUserData(user, { displayName: name });
                    }).then(() => {
                        closeAuthModal();
                        handleAuthStateChange(user);
                    });
                })
                .catch((error) => {
                    alert(`အကောင့်ဖွင့်ရန် မအောင်မြင်ပါ: ${error.message}`);
                });
        }
        
        // Google login
        function loginWithGoogle() {
            const provider = new firebase.auth.GoogleAuthProvider();
            auth.signInWithPopup(provider)
                .then((result) => {
                    const user = result.user;
                    
                    // Save/update user data
                    return saveUserData(user).then(() => {
                        closeAuthModal();
                        handleAuthStateChange(user);
                    });
                })
                .catch((error) => {
                    alert(`Google ဖြင့်ဝင်ရန် မအောင်မြင်ပါ: ${error.message}`);
                });
        }
        
        // Handle authentication state changes
        function handleAuthStateChange(user) {
            if (user) {
                currentUser = user;
                document.getElementById('userNotLoggedIn').classList.add('hidden');
                document.getElementById('userLoggedIn').classList.remove('hidden');
                document.getElementById('displayName').textContent = user.displayName || user.email;
                
                // Check if admin (normally would check admin role in database)
                if (user.email === 'admin@example.com') {
                    document.getElementById('adminDashboard').classList.remove('hidden');
                    document.getElementById('userDashboard').classList.add('hidden');
                    document.getElementById('publicView').classList.add('hidden');
                } else {
                    document.getElementById('adminDashboard').classList.add('hidden');
                    document.getElementById('userDashboard').classList.remove('hidden');
                    document.getElementById('publicView').classList.add('hidden');
                }
            } else {
                currentUser = null;
                document.getElementById('userNotLoggedIn').classList.remove('hidden');
                document.getElementById('userLoggedIn').classList.add('hidden');
                document.getElementById('adminDashboard').classList.add('hidden');
                document.getElementById('userDashboard').classList.add('hidden');
                document.getElementById('publicView').classList.remove('hidden');
            }
        }
        
        // Logout
        function logout() {
            auth.signOut().then(() => {
                handleAuthStateChange(null);
            }).catch((error) => {
                alert(`အကောင့်ထွက်ရန် မအောင်မြင်ပါ: ${error.message}`);
            });
        }

        // Event listeners setup
        document.addEventListener('DOMContentLoaded', function() {
            // Authentication event listeners
            document.getElementById('openAuthModalBtn').addEventListener('click', openAuthModal);
            document.getElementById('closeAuthModalBtn').addEventListener('click', closeAuthModal);
            
            // Auth tabs
            document.querySelectorAll('.auth-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    switchAuthTab(this.dataset.tab);
                });
            });
            
            // Login/Signup events
            document.getElementById('loginBtn').addEventListener('click', loginWithEmail);
            document.getElementById('signupBtn').addEventListener('click', signupWithEmail);
            document.getElementById('googleLoginBtn').addEventListener('click', loginWithGoogle);
            document.getElementById('logoutBtn').addEventListener('click', logout);
            
            // Check auth state
            auth.onAuthStateChanged(handleAuthStateChange);
            
            // Other event listeners and functionality would be set up here
            // They have been omitted for brevity but would follow the same pattern
            // as shown in the previous code snippets
        });
    </script>
</body>
</html>
